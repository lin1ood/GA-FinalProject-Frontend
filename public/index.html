<!DOCTYPE html>
<html ng-app="service_app">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="style.css">
    <!-- <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css"> -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.1/angular.min.js"></script>
    <script src="https://www.google.com/jsapi" language="javascript"></script>
    <script src="/app.js" type="text/javascript"></script>
    <title>Service Now</title>
  </head>
  <body ng-controller="mainController as ctrl">
    <div class="grid">

        <div class="title">
          <ul>
            <li>I need a service now!!!</li>
          </ul>
          <ul>
           <li><a href="../views/register.html">Provider Registration</a></li>
         </ul>
       </div>
        <div class="links">
          <ul ng-repeat="provider in ctrl.providers">
            <li><a href="#{{provider.category}}">{{provider.category}}</a> </li>
          </ul>
        </div>
  <hr>
      <!-- <ul ng-repeat="provider in ctrl.providers | filter: { user_id: 3 }"> -->
      <!-- <ul ng-repeat="provider in ctrl.providers | filter: { category: 'Electrician' }"> -->
<div class="listing">
<div class="">

      <ul ng-repeat="provider in ctrl.providers | filter: { category: provider.category}">
        <li style="list-style: none"><img id="servicePic" src="./img/{{provider.category}}.jpg" alt="">
          <li id="{{provider.category}}">{{provider.category}} </li>
  <hr>
          <ul >

      <!-- word-{{provider.id}} -->

            <li>Owner: {{provider.name}} Cell: {{provider.cell_phone}}</li>

            <br/><button ng-click="commentShow = !commentShow; ctrl.showComments(provider.id)">Show/Hide Comments on this Service</button>

            <ul id="ul-{{provider.id}}" ng-show="commentShow" ng-repeat="remarks in ctrl.comments | filter : provider.id">
              <li>{{remarks.review}}</li>
            </ul>

            <button ng-click="commentBtn = true">Comment</button>
            <p ng-show="commentBtn">Please leave your comments here for {{provider.name}}</p>

            <form id="comment" ng-show="commentBtn" ng-submit="commentBtn = false; ctrl.comment(provider, userComment)">
              Comments: <textarea ng-model="ctrl.userComment" name="comments" id="comments" cols="50" rows="3"></textarea>
              <input type="submit" value="submit" />
            </form>
            <hr/>
          </ul>
        </li>
      </div>
      </ul>
    </div>

    <div class="footer">
      <footer>
        copyright Â© 2017 Linwood Lassiter all rights reserved.
      </footer>
      </div>
    </div>
      <script type="text/javascript" src="./maps.js"></script>
      <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCCltdG3SEWV91mF7C0L8hIU6hi5SOJKB8&callback=initMap"></script>
  </body>
</html>
